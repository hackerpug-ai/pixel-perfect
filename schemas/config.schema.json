{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://github.com/hackerpug-ai/pixel-perfect/schemas/config.schema.json",
  "title": "Pixel Perfect Configuration",
  "description": "Configuration schema for pixel-perfect Claude Code plugin",
  "type": "object",
  "required": ["version"],
  "properties": {
    "version": {
      "type": "string",
      "pattern": "^\\d+\\.\\d+$",
      "description": "Config schema version (major.minor)",
      "examples": ["2.0", "2.1", "3.0"]
    },
    "defaults": {
      "type": "object",
      "description": "Default values for directory-scoped configuration",
      "properties": {
        "platforms": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": ["mobile-ios", "mobile-android", "web-desktop", "web-mobile", "desktop-app", "cli", "tablet"]
          },
          "default": []
        },
        "vibe": {
          "type": ["string", "null"],
          "enum": ["minimal", "modern", "playful", "corporate", "bold", "technical", "elegant", null],
          "default": null
        },
        "naming": {
          "type": "string",
          "enum": ["snake_case", "kebab-case", "camelCase"],
          "default": "snake_case"
        }
      }
    },
    "extensions": {
      "type": "object",
      "properties": {
        "spec": {
          "type": "string",
          "default": ".spec.json",
          "description": "File extension for specification files"
        },
        "mock": {
          "type": "string",
          "default": ".mock.html",
          "description": "File extension for mockup files"
        }
      }
    },
    "designResearch": {
      "type": "object",
      "description": "Design research configuration",
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": false
        },
        "path": {
          "type": "string",
          "default": "design-research"
        },
        "sources": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": ["exa", "jina", "web"]
          },
          "default": ["exa", "jina"]
        },
        "defaultTopics": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": []
        }
      }
    },
    "designSystem": {
      "type": "object",
      "description": "Design system reference configuration. When set, informs token generation, component naming, CDN links in mockups, and review validation.",
      "properties": {
        "name": {
          "type": ["string", "null"],
          "enum": ["shadcn-ui", "material-design-3", "chakra-ui", "ant-design", "radix-ui", "headless-ui", "daisyui", "park-ui", "mantine", "custom", null],
          "default": null,
          "description": "Selected design system for component patterns and conventions"
        },
        "version": {
          "type": ["string", "null"],
          "default": null,
          "description": "Design system version if applicable"
        }
      }
    },
    "iconLibrary": {
      "type": "object",
      "description": "Icon library configuration. Auto-selected when a design system is chosen, or set manually.",
      "properties": {
        "name": {
          "type": ["string", "null"],
          "enum": ["lucide", "material-symbols", "heroicons", "phosphor", "tabler", "remix", "font-awesome", "ionicons", "feather", "ant-design-icons", "bootstrap-icons", null],
          "default": null,
          "description": "Selected icon library for mockup rendering and validation"
        },
        "autoSelected": {
          "type": "boolean",
          "default": false,
          "description": "Whether icon library was auto-selected from design system pairing"
        }
      }
    }
  },
  "examples": [
    {
      "version": "2.0",
      "defaults": {
        "platforms": ["web-desktop"],
        "vibe": "modern"
      }
    },
    {
      "version": "2.0"
    },
    {
      "version": "2.0",
      "designResearch": {
        "enabled": true,
        "path": "design-research",
        "sources": ["exa", "jina"],
        "defaultTopics": ["mobile-navigation", "form-design"]
      }
    }
  ]
}
