---
description: "Initialize design project with interactive preplanning: requirements discovery, device targeting, design vibe"
---

# Design Initialization

Interactive preplanning phase that configures your design project.

## Directory-Scoped (ESLint-Style)

pixel-perfect works in any directory. Config and artifacts cascade from parent directories.

```
project/
├── design/
│   ├── config.yaml       # Base settings
│   └── tokens.yaml
└── features/
    └── auth/
        └── design/
            ├── config.yaml   # Auth overrides (optional)
            └── flows.yaml    # Auth-specific
```

## Usage

```
/pixel-perfect:init [directory] [options]
```

## Arguments

- `[directory]`: Target directory to initialize. Defaults to current directory.

## Options

- `--force`: Overwrite existing `design/config.yaml`
- `--quick`: Auto-accept inferred values with minimal prompts
- `--platforms <list>`: Pre-set platforms (comma-separated: `mobile-ios,web-desktop`)
- `--vibe <name>`: Pre-set design vibe (`minimal`, `modern`, `playful`, etc.)
- `--design-system <name>`: Pre-set design system (`shadcn-ui`, `material-design-3`, etc.)
- `--icon-library <name>`: Pre-set icon library (`lucide`, `material-symbols`, etc.)

## What It Does

This command walks you through setting up your design project:

1. **Requirements Discovery** - Finds or asks for your PRD/requirements document
2. **Device Targeting** - Infers and confirms which platforms you're designing for
3. **Design Vibe** - Captures the aesthetic direction for your mockups
4. **Design System** - Optionally select a UI component library (shadcn/ui, Material Design 3, etc.)
5. **Icon Library** - Auto-selected from design system or vibe, confirmed with user
6. **URL Analysis** - Fetches and analyzes any reference URLs in requirements
7. **Configuration** - Saves preferences to `{directory}/design/config.yaml`

## Config File

Creates `{directory}/design/config.yaml`:

```yaml
# Auto-generated by /pixel-perfect:init
version: "2.0"
created: "2025-02-01"

# Requirements source
requirements:
  path: "PRD.md"
  analyzed: true

# Target platforms
platforms:
  - responsive-web

# Design aesthetic
vibe:
  primary: "modern"
  description: "Clean, contemporary design"

# Design system (optional)
designSystem:
  name: "shadcn-ui"

# Icon library (auto-selected from design system, or by vibe)
iconLibrary:
  name: "lucide"
  autoSelected: true

# Analyzed references
references:
  urls_analyzed: 2
  patterns:
    - "bottom navigation"
```

**Config applies to:** The target directory AND all subdirectories below it (like `.eslintrc`).

**Subdirectories can override:** Create their own `design/config.yaml` to override parent settings.

## Preplanning Workflow

### Step 1: Requirements Discovery

**If `--requirements <path>` is provided:** Use that file directly.

**Otherwise, search for requirements in this order:**
1. `{directory}/PRD.md`
2. `{directory}/requirements.md`
3. `{directory}/*.md` (any markdown file)

**If a candidate file is found**, ask the user to confirm.

### Step 2: Device Targeting

**Default: Responsive Web**

| Platform | Indicators |
|----------|------------|
| Responsive Web | DEFAULT |
| Mobile (iOS) | "iOS", "iPhone", "Swift" |
| Mobile (Android) | "Android", "Kotlin" |
| Desktop App | "electron", "desktop app" |
| CLI/Terminal | "command line", "CLI" |
| TUI | "TUI", "terminal UI", "Bubble Tea", "Ratatui", "bubbletea", "lipgloss", "charmbracelet" |
| Tablet | "tablet-only", "iPad" |

### Step 3: Design Vibe

| Vibe | Description |
|------|-------------|
| Minimal | Clean, whitespace-focused |
| Modern | Contemporary patterns, current trends |
| Playful | Rounded corners, bright colors |
| Corporate | Professional, structured |
| Bold | High contrast, strong typography |
| Technical | Data-dense, developer-focused |
| Elegant | Refined, sophisticated |

### Step 4: Design System Selection

**After vibe selection, ask about design system:**

```
? Are you using a specific design system or component library?
  > None (general patterns)
    shadcn/ui
    Material Design 3
    Chakra UI
    Ant Design
    Radix UI
    Headless UI
    DaisyUI
    Park UI
    Mantine
```

**PRD keyword detection:** If the PRD mentions a design system by name (e.g., "using shadcn", "Material Design", "chakra"), auto-detect and confirm:
```
Detected "shadcn" in requirements.
? Use shadcn/ui as your design system?
  > Yes
    No, choose different
    No design system
```

**If a design system is selected:**
1. Set `designSystem.name` in config.yaml
2. Auto-select icon library from pairing matrix (see `docs/design-systems/README.md`)
3. Confirm icon library with user:
   ```
   shadcn/ui pairs with Lucide icons.
   ? Use Lucide for this project?
     > Yes (recommended)
       No, choose different library
   ```

### Step 5: Icon Library Selection

**If no design system was selected**, suggest icon library based on vibe:

```
Based on your "modern" vibe, Lucide icons are recommended.
? Which icon library would you like to use?
  > Lucide (recommended for modern vibe)
    Material Symbols
    Heroicons
    Phosphor Icons
    Tabler Icons
    Font Awesome
    Other...
```

**Vibe-based defaults** (from `docs/design-systems/README.md`):

| Vibe | Default Icon Library |
|------|---------------------|
| minimal | Lucide |
| modern | Lucide |
| playful | Phosphor |
| corporate | Font Awesome |
| bold | Material Symbols |
| technical | Tabler |
| elegant | Feather |

### Step 6: URL Analysis

Fetches and analyzes URLs from requirements.

## Example Sessions

### Initialize current directory

```
> /pixel-perfect:init

Scanning for requirements...
Found: PRD.md

? Is this your requirements document?
  > Yes, use this file

? What platforms are you designing for?
  [x] Responsive Web

? What's the design vibe?
  > Modern

? Are you using a specific design system?
  > shadcn/ui

shadcn/ui pairs with Lucide icons.
? Use Lucide for this project?
  > Yes (recommended)

Configuration saved to design/config.yaml
  Design system: shadcn/ui
  Icon library: Lucide (auto-selected)

Ready to plan! Run:
  /pixel-perfect:plan
```

### Initialize specific directory

```
> /pixel-perfect:init features/auth

Scanning for requirements...
Found: features/auth/PRD.md

Configuration saved to features/auth/design/config.yaml

This config will also apply to all subdirectories under features/auth/
(unless they override with their own design/config.yaml)
```

## Skipping Init

If `design/config.yaml` already exists in the target (or parent), the design workflow uses existing config.

To reconfigure:
- Delete `design/config.yaml` and run init again
- Run `/pixel-perfect:init --force`

## Integration with Design Workflow

When you run `/pixel-perfect:design`:
1. Checks for `design/config.yaml` in target (or parent)
2. If missing, automatically runs init first
3. Uses config to inform all subsequent phases
